<template name="dataTable">
  <div class="row">
    <div class="col s12">

      <h2>JSON Data Table</h2>

      <div class="progress" style="{{#if Template.subscriptionsReady}}visibility:hidden;{{/if}}">
        <div class="indeterminate"></div>
      </div>

      <div id="tableWrapper">
        <table id="dataTable" class="striped responsive-table">
          <thead>
            <tr>
              {{#each tableHeaders}}
                <th>{{field}} <i class="fa fa-sort{{sortArrow field}}"></i></th>
              {{/each}}
            </tr>
          </thead>

          <tbody>
            {{#each doc in tableData}}
              <tr>
                {{#each tableHeaders}}
                  <td>{{getValue doc field}}</td>
                {{/each}}
              </tr>
            {{/each}}
          </tbody>

        </table>
      </div>

      <nav>
        <div class="nav-wrapper blue-grey darken-1">
          <div class="col s12">
            <ul class="pager">
              <li style="margin-right:15px;">
                <button class="waves-effect waves-light btn {{prevPageClass}}" id="prevPage">
                  <span aria-hidden="true">&larr;</span> Previous
                </button>
              </li>
              <li>
                <button class="waves-effect waves-light btn {{nextPageClass}}" id="nextPage">
                  Next <span aria-hidden="true">&rarr;</span>
                </button>
              </li>
            </ul>

            <span class="right">{{#if Template.subscriptionsReady}}{{currentPage}}{{else}}{{previousPage}}{{/if}} of {{totalPageCount}}</span>
          </div>
        </div>
      </nav>

    </div>
  </div>
</template>
